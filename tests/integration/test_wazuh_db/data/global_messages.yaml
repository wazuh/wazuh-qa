---
-
  name: "Basics success"
  description: "Check success use cases for each global command"
  test_case:
  -
    input: 'global insert-agent {"id":1,"name":"TestName1","ip":"0.0.0.1","register_ip":"0.0.0.1","internal_key":"TopSecret","group":"TestGroup","date_add":1599223378}'
    output: "ok"
    stage: "global insert-agent success"
  -
    input: 'global update-agent-name {"id":1,"name":"TestName2"}'
    output: "ok"
    stage: "global update-agent-name success"
  -
    input: 'global update-agent-version {"id":1,"os_name":"TestOsName","os_version":"TestOsVersion","os_major":"TestOsMajor","os_minor":"TestOsMinor","os_codename":"TestOsCodeName","os_platform":"TestOsPlatfor","os_build":"TestOsBuild","os_uname":"TestOsUname","os_arch":"TestOsArch","version":"TestOsVersion","config_sum":"TestConfigSum","merged_sum":"TestMergedSum","manager_host":"TestManageHost","node_name":"TestNodeName","agent_ip":"0.0.0.1","sync_status":1}'
    output: "ok"
    stage: "global update-agent-version success"
  -
    input: 'global update-keepalive {"id":1,"sync_status":1}'
    output: "ok"
    stage: "global update-keepalive success"
  -
    input: 'global update-agent-status {"id":1,"status":"updated"}'
    output: "ok"
    stage: "global update-agent-status success"
  -
    input: 'global update-agent-group {"id":1,"group":"TestGroup"}'
    output: "ok"
    stage: "global update-agent-group success"
  -
    input: 'global update-fim-offset {"id":1,"offset":100}'
    output: "ok"
    stage: "global update-fim-offset success"
  -
    input: 'global update-reg-offset {"id":1,"offset":100}'
    output: "ok"
    stage: "global update-reg-offset success"
  -
    input: 'global set-labels 1 TestLabel'
    output: "ok"
    stage: "global set-labels success"
  -
    input: 'global get-all-agents start_id 0'
    output: "ok 1"
    stage: "global get-all-agents success"
  -
    input: 'global get-agents-by-keepalive condition > 0 start_id 0'
    output: "ok 1"
    stage: "global get-agents-by-keepalive success"
  -
    input: 'global get-agents-by-keepalive condition < 0 start_id 0'
    output: "ok "
    stage: "global get-agents-by-keepalive success"
  -
    input: 'global find-agent {"name":"TestName1","ip":"0.0.0.1"}'
    output: 'ok [{"id":1}]'
    stage: "global find-agent success"
  -
    input: 'global get-agent-info 1'
    output: 'ok [{"id":1,"name":"TestName1","ip":"0.0.0.1","register_ip":"0.0.0.1","internal_key":"TopSecret","os_name":"TestOsName","os_version":"TestOsVersion","os_major":"TestOsMajor","os_minor":"TestOsMinor","os_codename":"TestOsCodeName","os_build":"TestOsBuild","os_platform":"TestOsPlatfor","os_uname":"TestOsUname","os_arch":"TestOsArch","version":"TestOsVersion","config_sum":"TestConfigSum","merged_sum":"TestMergedSum","manager_host":"TestManageHost","node_name":"TestNodeName","date_add":1599223378,"last_keepalive":1599251694,"status":"updated","fim_offset":100,"reg_offset":100,"group":"TestGroup","sync_status":1}]'
    stage: "global get-agent-info success"